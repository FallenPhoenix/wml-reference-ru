'''< Данная статья еще недопереведена! Английский оригинал можно прочесть [http://wiki.wesnoth.org/IntroWML тут] >'''
{{WML Tags}}
== Тег [story] ==

Тег '''[story]''' описывает заставку сценария, состоящую из серии экранов. Каждый такой экран описывается тегом '''[part]''', и может содержать какой-то отрывок текста и иллюстрацию к нему. С помощью кнопок со стрелками игроки могут "перелистывать" экраны вперед и возвращаться к предыдущим.

Тег '''[part]''' одержит следующие дочерние элементы:
* '''background''': Основное, фоновое изображение экрана.
* '''scale_background''': Определяет, нужно ли растягивать фоновое изображение. По умолчанию 'yes'.
* '''[image]''': Дополнительный рисунок, отображаемый поверх фонового. Можно указывать и несколько таких тегов.
** '''x''', '''y''': Позиция, в которой должен отображаться рисунок. Координаты указываются в пикселах оригинального фонового изображения, но если оно может растягиваться в зависимости от разрешения, то накладные рисунки всегда имеют фиксированный размер.
** '''centered''': При значении ''yes'' рисунок размещается так, чтоб по указанным в '''x''' и '''y''' координатам находился его центр (по умолчанию отсчет идет от верхнего левого угла рисунка).
** '''file''': Файл изображения.
** '''delay''': Задержка перед отображением рисунка.
* '''story''': Текст истории. Поддерживает локализацию.
* '''text_layout''': Определяет, в какой части экрана должен отображаться текст истории. Допустимые значения: ''top'', ''middle'' и ''bottom''; последнее используется по умолчанию.
* '''show_title''': Определяет, нужно ли наверху отображать заголовок (по умолчанию это название сценария).
* '''title''': Задает особый заголовок в альтернативу названию сценария. Если указан, автоматически устанавливается атрибут '''show_title=yes'''.
* '''title_alignment''': Определяет позицию отображения заголовка. Возможны значения ''left'', ''center'' и ''right''; по умолчанию используется первое.
* '''music''': Позволяет сменить музыкальный трек.
* '''sound''': Звук, воспроизводимый единожды при отображении экрана. Можно указать и список файлов — тогда движок будет рандомно выбирать один из них.

Из универсальных тегов внутри '''[story]''' разрешены '''[deprecated_message]''', '''[wml_message]''', '''[image]''', и '''[insert_tag]''' (учтите, что сообщения от первых двух в любом случае появятся только после отображения игровой карты). Также для создания нелинейных заставок внутри '''[story]''' и '''[part]''' можно использовать условные теги '''[if]'''/'''[then]'''/'''[else]''' и '''[switch]'''/'''[case]'''. Остальные теги в этом контексте не поддерживается.

== Смотрите также ==

* [[ReferenceWML]]
* The journey and battle macros, in [[UtilWML]]

[[Category: WML Reference]]