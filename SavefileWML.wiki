{{WML Tags}}
== the format for Wesnoth savegames ==

A Wesnoth savegame has two parts.
One is a file stored in '''~saves/''' (See "user data directory", [[PreprocessorRef]]).
The other is a [save] tag in '''~save_index'''.
Each savegame describes a position in a scenario which can be loaded by pressing the "Load" button in-game.

In order to view or modify these files,
the option "Binary Saves" (Advanced Preferences) must be set to "No".
Also, since they are not config('''.cfg''') files the normal coloring will not be generated.
To generate coloring, simply save the file as '''.cfg''', then open it again.

The [save] tag is used to describe a save so that information about the save can be displayed
in the "Load game" menu before the savefile is opened (loading savefiles takes a while)

the following keys are recognized for [save]:
* '''save''': heading of the save; displayed in bold
* '''mod_time''': a number describing when the savefile was last edited
(i.e. when the game was saved).
Display format will not be described
* '''campaign_type''': whether the scenario is a scenario or multiplayer.
Displayed as is
* '''turn''': describes which turn it is, and the number of turns allowed in the scenario.
Displayed in the format '''Turn ''turn'''''
* '''difficulty''': the difficulty level of the savegame.
Displayed in the format '''Difficulty: ''difficulty'''''
* '''leader''': a unit type.
This unit type's picture will be displayed to the left
* '''map_data''': the data for the map.
The mini-map generated by this data is displayed to the right
* '''replay'''
* '''scenario'''
* '''snapshot'''

The savefile itself describes two things- a position, and a replay.
Each of these is described by describing a starting position, then describing a set of actions.
The '''[snapshot]''' tag has the same format as the rest of the savefile,
except that the [replay_start] keys have been moved to toplevel.
It describes how the game should be loaded when "Show replay" is not selected

In addition to the [snapshot] tag, the following key/tags are recognized:
* '''label''': obsolete? It is the same as ''save'' in [save]
* '''campaign_define''': when this replay is loaded, the symbol ''campaign_define'' will be stored.
See also "#ifdef", [[PreprocessorRef]]
* '''campaign_type''', '''scenario'': the tag type and ID of the scenario, respectively. See [[ScenarioWML]]
* '''version''': the version of Wesnoth this game was saved by.
If the savegame is from a different version of Wesnoth than the one currently running, the message "This save is from a
different version of the game. Do you want to try to load it?" is displayed
* '''can_recruit''': the set of unit types side 1 is allowed to recruit.
* '''difficulty''': the difficulty level of the savegame.
Normal values are "EASY", "NORMAL", and "HARD". See [[CampaignWML]]
* '''gold''': the amount of gold the player has
* '''playing_team''': the number of the team whose turn it is, starting with 0
* '''turn_at''': the number of the current turn
* ''snapshot''
* '''[variables]''': a list of the current values of all variables.
The attribute '''''variable//=//value//''' means that the variable ''variable'' has the value ''value''.
The tag '''[''array//]''' describes a unit stored in the array ''array'' (see [[SingleUnitWML]]).
See also [[VariablesWML]]
* '''[replay]''': describes what should be displayed if the option "Show replay" is selected
** '''[command]''': describes one action.
Syntax for [command] is described in [[ReplayWML]]
* '''[statistics]''': describes previous scenarios
** '''mid_scenario''': if "false", the scenario will be reloaded and any modifications will be played with.
** '''[scenario]''': describes basic statistics of a previous scenario.
See [[StatisticalScenarioWML]] for a description of [scenario]
* '''[unit]''': describes a unit in the recall list. See [[SingleUnitWML]]
* '''[replay_start]''': describes the position the player was in when the game started. Has the same keys and tags as [scenario] (see [[ScenarioWML]]).
In addition to the [scenario] keys and tags, it has the following keys:
** '''era''': the name of the era. See [[EraWML]]
** '''experience_modifier''': all units' maximum experience is multiplied by this number
** '''observer''': whether the player is an observer
** '''modify_placing''':


== See Also ==
* [[ReferenceWML]]


[[Category: WML Reference]]
